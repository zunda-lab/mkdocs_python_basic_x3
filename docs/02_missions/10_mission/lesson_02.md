# 数値の大きさを棒で表示する方法を学ぼう

関数の定義について基本を学んだ後は、ミッション達成のための関数を作ってみたいと思います。

簡単な関数ですが、この後、何回も働いてもらう関数です。

自分の分身を作る気持ちで取り組んでみてください。

## 指定した長さの棒を返す関数

はじめに、このレッスンで作成する関数がどのようなものなのかを説明しましょう。

タイトルにもあるとおり「指定した長さの棒を返す関数」です。

関数の名前は「get_bar」。barが棒を表す英語なので、棒を取得するという意味で命名しました。

ご覧いただいている絵は、毎度お馴染み関数の箱です。上の煙突がひとつなので引数はひとつ、そして左の煙突によって戻り値ありの関数です。

例えば引数に数字の「３」を指定したとしましょう。

戻り値は、黒い四角３つの文字列。関数の処理によって生み出された文字列です。これが「棒」です。ちょっと切れ目がありますが、ご容赦ください。

このスライドでは、前のスライドで説明した関数のプログラム例を紹介します。

```
01: def␣get_bar(num):
02: ␣␣␣␣result␣=␣'■'␣*␣num
03: ␣␣␣␣return␣result
```

関数はご覧の３行、とてもわかりやすい関数ですので、安心してください。

１行目は関数の定義を表す「def」から始まっています。空白を挟んで関数名である「get_bar」を記載し、丸カッコの中には引数の名前である「num」を書いています。numはnumberを省略したもので、数字を引数として受け取るよ、という意味で命名しました。丸カッコを閉じた後は、コロンで終わることを忘れないようにしてください。初心者のうちは、このコロンを忘れてエラーとなってしまうことが多いんです。

２行目と３行目は、関数ブロックです。ブロックですので、４つのスペースによってインデント（字下げ）していますね。

２行目では、文字列の掛け算によって、繰り返し文字列を生成しています。これが「棒」ですね。作った棒は一旦「result」という変数に代入します。resultは「結果」を示す英語で、戻り値を作り上げる変数の名前としてよく使う変数名です。

３行目では、return文によって結果を返却しています。このreturn文があることで、関数の呼び出し元に、戻り値として返却されるというわけです。

## get_bar関数を呼び出す

このスライドでは、前のスライドで定義したget_bar関数を呼び出すプログラムを紹介します。

```
01: num␣=␣3
02: bar␣=␣get_bar(num)
03: print('{}␣{}'.format(bar,␣num))
```

```
■■■␣3（改行）
```

２行目が、get_bar関数の呼び出しです。定義した関数の名前を書いて、続く丸カッコの中に引数としてnum変数を渡しています。num変数は１行目で数字の３を入れているので、get_bar関数の引数としては数字の３が渡されるということになりますね。

２行目で、get_bar関数の戻り値をbarという変数に代入しています。変数barには、黒四角が３つ連続した文字列が格納されます。

３行目はprint関数です。print関数では第４ミッションで説明した「文字列に変数を埋め込む」方法でディスプレイ表示しています。

「先生、文字列に変数を埋め込む方法、忘れてしまいました」はい、次のスライドでおさらいしましょう。

このスライドでは完成イメージを確認します。

実行結果のディスプレイをご覧ください。３つ連続した黒四角と空白、そして数字が表示されています。この１行をprint関数１行で表示しているんです。bar変数とnum変数２つの変数を埋め込んだ文字列を生成して表示しているということになります。

## （おさらい）文字列に変数を埋め込む方法

文字列に変数を埋め込む方法をおさらいしましょう。

プログラム例の青字が前のスライドの３行目です。ちょっと長いので、分解してみましょう。

最初のシングルクォーテーションで囲まれた文字列に注目します。この波カッコを含む文字列は「書式文字列」と呼ばれます。

次に文字列の後ろに注目します。文字列の直後にピリオドがあり、その後ろにはformat、その後ろには丸カッコと続きます。文字列や数値の後ろにピリオドがきて、何かしらの単語、そして丸カッコと続いた場合、「メソッド」と言いましたね。この場合はformatメソッドです。formatメソッドの丸カッコの中には、２つの変数がカンマ区切りで並んでいます。この２つの変数が書式文字列の波カッコに順序よく埋め込まれるというわけです。

１番目のbar変数は、１番最初の波カッコに、２番目のnum変数は、２番の波カッコに対応して、埋め込まれます。

このformatメソッドが実行されると、上のディスプレイのように黒四角３つとスペース、数字の３と表示されるのです。

書式文字列の２つの波カッコの間には半角のスペースがありますので、受講生のみなさんがコーディング演習する「トライ」のときは、きちんとスペースを入れるようにしてください。

## 数字の大きさを棒で表示しようの問題文

次のレクチャーはコーディング演習です。

このスライドでは、コーディング演習の問題文を紹介し、次のスライドで問題文に対するコーディングアドバイスを紹介します。

```
以下の問題文を読み、プログラム中の "....." を修正してください。
数値の大きさを棒で表示する
1. 5行目の "......" を修正して、'■' を num 数分繰り返した文字列を変数 result に格納する文にしてください。
2. 7行目の "......" を修正して、変数 result を戻り値として返却する文にしてください。
3. 13行目の "......" を修正して、定義した関数を引数 num を指定して呼び出し、棒の文字列を取得して bar 変数に格納する文にしてください。
```

問題文を読みます。

以下の問題文を読み、プログラム中のテンテンテンを修正してください。

数値の大きさを棒で表示する

5行目のテンテンテンを修正して、黒四角を num 数分繰り返した文字列を変数 result に格納する文にしてください。

7行目のテンテンテンを修正して、変数 result を戻り値として返却する文にしてください。

13行目のテンテンテンを修正して、定義した関数を引数 num を指定して呼び出し、棒の文字列を取得して bar 変数に格納する文にしてください。

## 数字の大きさを棒で表示しようのコーディング（1）

```
def get_bar(num):
    result = '■' ...
    ..... result

num = 3
bar = .....
print('{} {}'.format(bar, num))
```

コーディング演習を始めると、エディタエリアには、スライドに示した半完成プログラムがあらかじめ入力された状態となっています。

本当はコメント文も入っていますが、プログラムにフォーカスしてご覧いただくために、コメント文を取り除いて掲載しました。

この半完成プログラムの「テンテンテン」の部分を修正していくんです。

次のスライドで「テンテンテン」に何が入るか説明します。今回もネタバレです。じぇじぇ。

```
01: # '■' を引数で指定した数分繰り返した文字列を返却する
02: # get_bar 関数を定義します。
03: def get_bar(num):
04: ␣␣␣␣# '■' を num 数分繰り返した文字列を変数resultに格納します。
05: ␣␣␣␣result␣=␣'■'␣*␣num
06: ␣␣␣␣# 変数resultを返却します。
07: ␣␣␣␣return␣result
08:
09: # 棒で表示する数値を 3 とします。
10: num␣=␣3
11: # 定義した関数を引数 num を指定して呼び出し、
12: # 棒の文字列を取得して bar 変数に格納します。
13: bar␣=␣get_bar(num)
14: # 棒と数値を表示します。
15: print('{}␣{}'.format(bar,␣num))
```

このスライドでは、エディタエリアにあらかじめ入力されているプログラムとコメント文を説明し、テンテンテンにどのようにプログラムを埋めればいいのかを紹介します。全部で１５行、ちょっと長いので２ページで解説します。

３行目からget_bar関数の定義が開始しています。

５行目に「スペース４つ・result・スペース・イコール・スペース・テンテンテン」と入力されていますので、テンテンテンの部分をすぐ上のコメント「黒四角を num 数分繰り返した文字列を変数resultに格納します。」の通りにコーディングします。赤い字の部分だけ読み上げます。「アスタリスク・スペース・num」

７行目に「スペース４つ・テンテンテン・スペース・result」と入力されていますので、テンテンテンの部分をすぐ上のコメント「変数resultを返却します。」の通りにコーディングします。赤い字の部分だけ読み上げます。「return」

１３行目に「bar・スペース・イコール・スペース・テンテンテン」と入力されていますので、テンテンテンの部分をすぐ上のコメント「定義した関数を引数 num を指定して呼び出し、棒の文字列を取得して bar 変数に格納します。」の通りにコーディングします。num変数は１０行目で数字の３が代入されていますね。赤い字の部分だけ読み上げます。「get_bar・丸カッコ・num・丸カッコ閉じ」

１５行目で関数の戻り値が格納されたbar変数と、数字が格納されたnum変数を整形してディスプレイに表示しています。

ちょっと行数が多いのですが、大半はコメント文です。コメント文ではない本当のプログラムの部分に注目すると、意外とシンプルに感じるものです。

以上「数値の大きさを棒で表示する方法を学ぼう」でした。
