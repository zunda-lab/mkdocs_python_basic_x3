# うるう年かそうでないか判定する方法を学ぼう（2）

## 第７ミッションのフローチャート

フラグを説明したので、このスライドからは、フラグを入れ込んだフローチャートを紹介しましょう。

うるう年判定のフローチャートにちょっと手を加えています。見てのとおり、菱形の条件判定の結果で進む四角の箱では、赤い字で示したフラグの変数にTrueを代入する、または青い字で示したFalseを代入することをしています。

フラグの設定が終わったら、まずは「2200年：」と改行なしで表示します。なぜ2200年なのかというと、第７ミッションのコーディング演習は2200年がうるう年かそうでないかを判定するプログラムだからです。

つづいて菱形の条件分岐です。前のページのうるう年の判定結果でフラグにはTrueかFalseが入っています。この菱形ではフラグがTrueかどうかで赤い字の「うるう年です」の表示か、青い字の「うるう年ではありません」の表示かを決定します。

どうでしょう？

「うるう年判定で代入したフラグを、後半で参照して、表示する文言を決定する」という流れを理解できたのではと思います。

フラグを使う理由については、このレクチャーの最後にお話します。

## 第７ミッションの問題文

次のレクチャーはコーディング演習です。

このスライドでは、コーディング演習の問題文を紹介し、次のスライドで問題文に対するコーディングアドバイスを紹介します。

問題文を読みます。

以下の問題文を読み、プログラム中のテンテンテンを修正してください。

うるう年かそうでないか判定する

３行目のテンテンテンを修正して、変数 year が 400 で割り切れたら「うるう年」と判定する文にしてください。

５行目のテンテンテンを修正して、うるう年フラグである変数 is_leap 変数に「真」を代入してください。

７行目のテンテンテンを修正して、変数 year が 100 で割り切れたら「うるう年ではない」と判定する文にしてください。

９行目のテンテンテンを修正して、うるう年フラグである変数 is_leap 変数に「偽」を代入してください。

11行目のテンテンテンを修正して、変数 year が 4 で割り切れたら「うるう年」と判定する文にしてください。

13行目のテンテンテンを修正して、うるう年フラグである変数 is_leap 変数に「真」を代入してください。

15行目のテンテンテンを修正して、上記の条件全てに合致しない場合は「うるう年ではない」と判定する文にしてください。

17行目のテンテンテンを修正して、うるう年フラグである変数 is_leap 変数に「偽」を代入してください。

次のスライドでこの問題文に対するコーディングを紹介します。

## 第７ミッションのコーディング

コーディング演習を始めると、エディタエリアには、スライドに示した半完成プログラムがあらかじめ入力された状態となっています。本当はコメント文も入っていますが、プログラムにフォーカスしてご覧いただくために、コメント文を取り除いて掲載しました。この半完成プログラムの「テンテンテン」の部分を修正していくんです。次のスライドで「テンテンテン」に何が入るか説明します。今回もネタバレでーす。

このスライドでは、エディタエリアにあらかじめ入力されているプログラムとコメント文を説明し、テンテンテンにどのようにプログラムを埋めればいいのかを紹介します。長いのでスライド２ページで説明します。

１行目にはうるう年か判定する西暦年2200を、変数yearに代入しています。

３行目には「テンテンテン」だけが入力されていますので、テンテンテンの部分をすぐ上のコメント「変数 year が 400 で割り切れたら「うるう年」と判定します。」の通りにコーディングします。行の先頭から読み上げます。「if・スペース・year・スペース・パーセント・スペース・400・スペース・イコール・イコール・スペース・ゼロ・コロン」

５行目には「is_leap・スペース・イコール・スペース・テンテンテン」と入力されていますので、テンテンテンの部分をすぐ上のコメント「うるう年フラグである is_leap 変数に「真」を代入します。」の通りにコーディングします。赤い字の部分だけ読み上げます。「True」

７行目には「テンテンテン」だけが入力されていますので、テンテンテンの部分をすぐ上のコメント「 変数 year が 100 で割り切れたら「うるう年ではない」と判定します。」の通りにコーディングします。行の先頭から読み上げます。「elif・スペース・year・スペース・パーセント・スペース・100・スペース・イコール・イコール・スペース・ゼロ・コロン」

９行目には「is_leap・スペース・イコール・スペース・テンテンテン」と入力されていますので、テンテンテンの部分をすぐ上のコメント「うるう年フラグである is_leap 変数に「偽」を代入します。」の通りにコーディングします。赤い字の部分だけ読み上げます。「False」

11行目には「テンテンテン」だけが入力されていますので、テンテンテンの部分をすぐ上のコメント「 変数 year が 4 で割り切れたら「うるう年」と判定します。」の通りにコーディングします。行の先頭から読み上げます。「elif・スペース・year・スペース・パーセント・スペース・4・スペース・イコール・イコール・スペース・ゼロ・コロン」

13行目には「is_leap・スペース・イコール・スペース・テンテンテン」と入力されていますので、テンテンテンの部分をすぐ上のコメント「うるう年フラグである is_leap 変数に「真」を代入します。」の通りにコーディングします。赤い字の部分だけ読み上げます。「True」

続きです。

15行目には「テンテンテン」だけが入力されていますので、テンテンテンの部分をすぐ上のコメント「 上記の条件全てに合致しない場合は「うるう年ではない」と判定します。」の通りにコーディングします。行の先頭から読み上げます。「else・コロン」

17行目には「is_leap・スペース・イコール・スペース・テンテンテン」と入力されていますので、テンテンテンの部分をすぐ上のコメント「うるう年フラグである is_leap 変数に「偽」を代入します。」の通りにコーディングします。赤い字の部分だけ読み上げます。「False」

19行目から26行目は、「2200年：」という文字列を改行なしで表示していたり、うるう年フラグである is_leap 変数の状態によって「うるう年です」または「うるうどしではありません」をディスプレイに表示しています。

ちょっと長いですが、条件分岐についてたっぷり学習してきたので、「落ち着いて考えれば大丈夫ですっ！」って感じではないでしょうか？

## フラグを使う理由については

最後にフラグを使う理由について説明します。

スライドにフラグを使ったコードの一部を掲載しています。これまでやってきた方法ですね。

これをフラグを使わないとどうなるでしょうか？

ご覧の通り、ifやelif、elseの間にprint関数を入れて「うるう年です」とか「うるう年ではありません」とかを表示する、ということになってしまいます。これでも、プログラムとしては動くことは動きます。

プログラムは動いて全て終わりというというわけではありません。あとで、動作の条件や表示される文言を変更したいというがあるでしょう。例えば「うるう年ではありません」という文言を「平年です」という文言に修正するとします。フラグを使ったコーディングでの修正は、ここでは掲載されていない最後の部分のprint関数の１箇所ですみます。しかし、フラグを使わないコーディングでは、青い字の２行とも修正する必要がありますよね。この題材では２行で済んでいますが、これが何十行とあったらどうでしょう。超面倒臭いし、同じように直せるか不安にもなりますよね。

なぜフラグを使うのかというと、ちょっと難しい言葉ですが「保守性の高いプログラムのためにフラグを使う」ということになります。優秀なプログラマーほど、あとあとのことまで考えてコーディングしているというわけです。

以上「うるう年かそうでないか判定する方法を学ぼう」でした。
