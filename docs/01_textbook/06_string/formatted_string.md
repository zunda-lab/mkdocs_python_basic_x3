# 文字列に変数を埋め込む方法を学ぼう

このレクチャーでは「文字列に変数を埋め込む方法」を説明します。

「先生、埋め込むって、土に石を埋め込むとか、体にチップを埋め込むとか物理的なことしか想像できません。」

そうですよね。そう思いますよね。

この後「文字列に変数を埋め込む方法」を図を使ってきちんと説明します。
いっしょに学んでいきましょう。


## 文字列に変数を埋め込むとは

このスライドでは、文字列に変数を埋め込むこととはどのようなことなのか、四則演算の結果を画面に表示する例を使って説明します。

はじめにプログラム例を説明しましょう。

```
base␣=␣9
ope␣=␣2
add␣=␣base␣+␣ope # addの値は11
print(......)
```

```
9 + 2 = 11
```

```
● + ■ = ▲
```

１行目でbaseという変数に数値の9を代入しています。２行目ではopeという変数に数値の2を代入しています。３行目では変数baseの値と変数opeの値を足した結果を変数addに代入しています。変数baseと変数opeは１行目２行目で定義していますので、変数の参照ということになりますね。３行目まで実行すると３つの変数base, ope, addが準備されますね。そしてbaseには数値9、opeには数値2、addには数値11が保存されていることになります。最後４行目で、print関数を使用して計算結果を出力します。

実行結果と書かれたディスプレイをご覧ください。ディスプレイには「9 + 2 = 11」と表示されていますね。このように３つの変数の値を表示したいとき、print関数の丸カッコの中にはどのように書けばいいでしょうか。方法はいくつかあるのですが、講師がもっともPythonらしくエレガントな記載方法と思っているやり方を紹介します。それが文字列に変数を埋め込む方法です。

print関数の丸カッコの中に書く文字列は仮に「丸 + 四角 = 三角」とします。本当は丸三角四角ではなく別の記号なんですけど、説明しやすいように丸三角四角で記載しています。さて埋め込みですが、丸の部分には変数baseの値 9 を埋め込む、四角の部分には変数opeの値 2 を埋め込む、三角の部分には変数addの値 11 を埋め込むことができるとしたら、どうでしょうか。実行結果のディスプレイのように「9 + 2 = 11」と表示されますよね。これが文字列に変数を埋め込むイメージです。

## 文字列に変数を埋め込む方法

文字列に変数を埋め込む「イメージ」がわかったので、このスライドでは埋め込む「方法」を教えちゃいまーっす。

```
base␣=␣9
ope␣=␣2
add␣=␣base␣+␣ope
print('{}␣+␣{}␣=␣{}'.format(base,␣ope,␣add))
```

ご覧のプログラムが、文字列を変数に埋め込み、ディスプレイに9+2=11と表示するPythonプログラムです。

前のスライドでは無かったprint関数の丸カッコの中を青い字で示しています。おっと、なんか難しそうだぞと頭を抱えていませんか？大丈夫です。この後の説明を聞けば理解できます。では、青字の部分をクローズアップしてみましょう。

ちょっと長いので、分解します。

最初のシングルクォーテーションで囲まれた文字列に注目しましょう。前のスライドで「仮に丸 + 四角 = 三角とします」と説明した部分です。このスライドでは丸と四角と三角が、波カッコの３セットに置き換わっていますね。この波カッコを含む文字列は「書式文字列」と呼ばれます。

次に文字列の後ろに注目します。文字列の直後にピリオドがあり、その後ろにはformat、その後ろには丸カッコと続きます。丸カッコ付きとなるとprint関数のような関数に似ていますね。文字列や数値の後ろにピリオドがきて、何かしらの単語、そして丸カッコと続いた場合、これを「メソッド」と言います。この場合はformatメソッドですね。print関数のように前に何もない場合は関数、文字列や数値の後にピリオドが来て、その後ろに関数っぽいものがきたら関数ではなくメソッドと覚えてください。今回は書式文字列に対するformatメソッドを説明していますが、メソッドはいろいろな種類があります。この後のミッションで少しずつ説明しますね。書式文字列だけがメソッドの対象ではないので注意してください。

さて、formatメソッドの丸カッコの中には、三つの変数がカンマ区切りで並んでいますね。この三つの変数が書式文字列の波カッコに順序よく埋め込まれるというわけです。１番目のbase変数は、１番最初の波カッコに、２番目のope変数は、２番最初の波カッコに、３番目のadd変数は、３番最初の波カッコに対応して、埋め込まれます。このformatメソッドが実行されると、上のディスプレイのように「9 + 2 = 11」と表示されるのです。プラスとイコールの前後には半角のスペースがありますので、受講生のみなさんがコーディング演習する「トライ」のときは、きちんとスペースを入れるようにしてください。

以上「文字列に変数を埋め込む方法を学ぼう」でした。