# エラーについて学ぼう

前のミッションで、プログラムのルールをいくつか紹介しました。
ルールは守るものです。ルールを守らない場合、Pythonはエラーという形で私たちに警告を発してくれます。
このレクチャーでは、エラーの概要と代表的なエラーについて解説します。

## エラーとは

みなさんは「エラー」という言葉にどのような印象をお持ちですか？おそらく多くのみなさんが「発生したら怖いもの」という印象を持っていると思います。私はエラーは味方だと思っています。なぜそう思うのかをこのスライドで伝えちゃいましょう。

### うまく動かないことを通知

エラーはうまく動かないことを通知してくれるものです。うまく動かないことを隠さず私たちに教えてくれるんです。Pythonって正直者ですよね。

### なぜ/どこで発生したか明記

エラーが発生するとエラーメッセージという形で私たちに教えてくれますが、エラーメッセージにはなぜエラーが発生したのか、どこでエラーが発生したのかが明記されています。この「なぜ」「どこで」を手がかりにエラーを解決していくというわけです。

### プログラミングの醍醐味

エラーに向き合うことはプログラミングの醍醐味です。解消したときのスッキリ感は「ハンパねー」って感じです。松丸くんが出す謎解きの答えがわかった時と同じ位スッキリします。

プログラミングではエラーの発生や解析、対処を避けて通ることはできません。エラーの原因を理解し、エラー解消の数をこなすことで、Pythonのルールや使い方が自然と身に付いていきます。

怖がらずしっかりと取り組んでいきましょう。

次のスライドから、代表的なエラーを４つ紹介します。

## 不正な文字エラー

まずは「不正な文字エラー」です。

### エラーメッセージ

invalid character in identifier（識別子の中に不正な文字）

### 原因

全角の記号や全角のスペースが含まれている

### プログラム例

```
print（’はじめてのPython’)　# 丸カッコが全角文字
```

### 解説

エラーメッセージに「invalid character in identifier（アイデンティファイア）」と表示されたら、不正な文字エラーです。訳すと「識別子の中に不正な文字」という意味です。ざっくりですが、識別子はプログラムの中の記号だと思ってください。

このエラーメッセージが表示された場合は、全角の記号や全角のスペースが含まれていないかチェックしましょう。

ご覧の通り、丸カッコが全角文字の場合に不正な文字エラーが発生します。

## 名前が未定義エラー

次は「名前が未定義エラー」です。

### エラーメッセージ

name 'XXX' is not defined（名前XXXが定義されていない）

### 原因

定義されていない関数や変数を使おうとした

### プログラム例

```
PRINT(’はじめてのPython’)　# 小文字のprintが正解
```

### 解説

エラーメッセージに「name バツバツ is not defined」と表示されたら、名前が未定義エラーです。訳すと「名前バツバツが定義されていない」という意味です。バツバツには関数名などが入ります。

このエラーメッセージが表示された場合は、関数名や変数名が正しいかどうかチェックしましょう。変数については次のミッションで詳しく説明します。

ご覧の通り、print関数を使おうとして関数名を大文字のPRINTとしてしまった場合に、名前が未定義エラーが発生します。関数の名前は大文字小文字を厳密に区別するので注意が必要です。

## 期待されていないインデントエラー

次は「期待されていないインデントエラー」です。

### エラーメッセージ

unexpected indent（期待されていないインデント）

### 原因

行の先頭に余計なスペースが入っている

### プログラム例

```
␣print(’はじめてのPython’)　# 先頭に半角スペース１文字
```

### 解説

エラーメッセージに「unexpected indent」と表示されたら、期待されていないインデントエラーです。

「インデントってなんだよぉ」というみなさん、インデントについては奥が深いので、これから挑むいくつかのミッションで説明していきますのでご安心ください。でも、インデントの意味がわからないと、このエラーの意味もスッキリしませんよね。ざっくり説明します。インデントとは「行の先頭のスペース文字」だと思ってください。

このエラーメッセージが表示された場合は、行の先頭に余計なスペースが入っていないか、チェックしましょう。

ご覧の通り、printの前に余計な半角スペース１文字が入ってしまった場合に、期待されていないインデントエラーが発生します。スペースは手本をよく見て、入れる入れないを判断しましょう。

## 文字列リテラルをスキャン中に行末検知エラー

次は「文字列リテラルをスキャン中に行末検知エラー」です。

### エラーメッセージ

EOL while scanning string literal（文字列リテラルをスキャン中にEOL）

### 原因

文字列が引用符で閉じられていない

### プログラム例

```
print(’はじめての↵  # 文字列を引用符で囲む前に改行
Python’)
```

### 解説

エラーメッセージに「EOL while scanning string literal」と表示されたら、文字列リテラルをスキャン中に行末検知エラーです。

「ひぇー、難しい言葉連発。文字列リテラルとかEOLって何だよぉ」というみなさん、落ち着いてください。難しい言葉に思えますが、大したことないんです。

文字列リテラルとはプログラム中に書いた文字列のこと。引用符で囲んだ文字列のことを文字列リテラルって言うんです。ちなみにプログラム中に書いた数字は数値リテラルっていいます。ね、難しくないでしょ。EOLはEnd Of Lineのこと。つまり行の終わり。ね、難しくないでしょ。

このエラーメッセージが表示された場合は、文字列が引用符で終わっているかどうかチェックしましょう。

ご覧の通り、文字列を引用符で囲む前に改行してしまった場合に、このエラーが発生します。Pythonは基本的に１行で文が完結する必要があるんです。文字列も１行の中で、最初の引用符と最後の引用符で囲む必要があります。

## エラーメッセージの読み方

最後に、画面に表示されたエラーメッセージの読み方について伝授します。スライドには、コーディング演習のエディターエリアと評価エリアを切り出したスクリーンショットを掲載しました。

一例として、半角の丸カッコを誤って全角で書いてしまい「不正な文字エラー」となった場合で説明します。

評価エリアの「答えが間違っています」の下に、英語のエラーメッセージが表示されています。拡大してみましょう。

エラーメッセージを分解すると、「エラーメッセージ本文」「ファイル名」「行番号」に別れます。

エラーメッセージ本文は前のスライドで説明した英語のエラーメッセージですね。

次に「ファイル名」です。実はコーディング演習、エディターエリアで書いたプログラムは自動的に「exercise.py」という名前のファイルに保存されていたんです。エディターエリアの左側に「exercise.py」と表示されていますね。このコースのコーディング演習では全て「exercise.py」というファイルに保存するように設定していますので、ファイル名は固定だと思ってもらって構いません。

次は「行番号」です。エラーが発生したプログラムの行番号を示しています。今回は１行のみのプログラムですが、数行、十数行のプログラムを書いた場合は、この行番号を頼りにエラーの発生原因を調査するようにしてください。

以上「エラーについて学ぼう」でした。