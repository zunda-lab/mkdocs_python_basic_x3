# 今日の日付を取得する方法を学ぼう

第６ミッションは「今日が生まれてから何日目か表示せよ」です。
このミッションを達成するために、今日の日の何年何月何日をプログラム中に直接書いていたのでは、実行する日に合わせプログラムを変更しなければなりません。そんなのプログラムは非効率です。
このレクチャーではプログラムで自動的に今日の日付を取得する方法を伝授します。
ちょっとプログラマーっぽい学習になってきましたね。やればできる。しっかりマスターしちゃってください。

## 今日の日付を取得する関数

さっそく、今日の日付を取得する関数を紹介しましょう。今日の日付を取得する関数はPython組込みの標準ライブラリの中にあります。では発表します。


```
datetime.date.today
```

datetimeピリオドdateピリオドtoday関数です。

「えー、長いし、ピリオドが二つもあるー」とちょっとビックリされている受講生のみなさん、大丈夫です。次のスライドでわかりやすく説明します。

このスライドではピリオドで区切られた３つの単語が何なのかだけを軽く紹介させてください。

* 最初のdatetimeは「モジュール」
* 次のdateは「クラス」
* 最後のtodayは「関数」

次のスライドで、モジュールやクラスとは何のなのかを説明します。

## datetime.date.today関数の階層構造

このスライドでは、今日の日付を取得する関数であるdatetimeピリオドdateピリオドtoday関数が階層構造の中にある関数であることを説明します。

Pythonで使う便利な関数やメソッドは「標準ライブラリ」としてPythonにあらかじめ組み込まれています。膨大な関数やメソッドが組み込まれているので、迷子にならないように階層構造で分類分けされているのです。その分類がモジュールやクラスというわけです。

まず標準ライブラリの中には、いくつもの「モジュール」と呼ばれる分類があります。その「モジュール」の中には、いくつかの「クラス」と呼ばれる分類があります。関数はメソッドはその「クラス」の中に所属するという訳です。

タイトルのdatetimeは「モジュール」、dateは「クラス」、todayは「関数」です。厳密に言えば、階層構造はこのパターンだけではないのですが、代表的な階層構造として紹介しました。

突然ですが、仙台市には青葉区という行政区があります。青葉区は横浜市にもあります。単に青葉区と言ってしまうと、仙台の青葉区なのか横浜の青葉区なのかわかならい場合があるでしょう。宮城県仙台市青葉区、神奈川県横浜市青葉区と区別して言えば正確に指定できます。today関数、実は他のクラスにも存在します。どのモジュールのどのクラスのtoday関数を使うのかを階層構造を利用して正確に指定するための仕組みなんですね。

実は、ここで皆さんに、ひとつ悲しいお知らせをしなければなりません。実は、このtoday関数、これまで学んできた関数やメソッドとちょっと違って、いきなり使うことができないんです。datetimeモジュール配下の関数やメソッドを使いたい場合は、使う前に「使うよ宣言」をしなければならないんです。次のスライドで「インポート」という「使うよ宣言」について説明します。

## インポートとは

インポートとは「その機能を使うよ宣言」です。

ここでいう機能には、モジュールやクラス、関数などがありますが、本コースではモジュールを使うためのインポートに絞って説明します。

標準ライブラリのモジュールに含まれる関数やメソッドを使うためには、使う前にインポート文によって「モジュールを使用可能にする」という操作をする必要があります。プログラムの具体的な書き方は次のスライドで説明します。

「先生、print関数はインポートなんかしないで使ってきました。このインポートをするしないはどう判断すればいいんですか？」

いい質問です。答えから言いますね。組み込み関数はインポートが不要です。

組み込み関数とは、インポートせずにいつでも利用できる関数で、これまで使ってきたprint関数はじめ、文字列の長さを調べるlen関数、ファイルを開くopen関数など70弱の関数が含まれます。len関数やopen関数はこの後のミッションで出てくる関数です。いまは気にしないで大丈夫です。これからPythonの勉強をすすめていくうちに、これをやりたいときは組み込みのなんとか関数、こっちをやりたいときは、インポートが必要ななんとか関数のように覚えていきます。今は、インポートが必要な関数と不要な関数があるんだなくらいの感覚でオッケーです。

## import文の書き方

では、インポートを実行するimport文の書き方を紹介しましょう。

'''
import モジュール名
'''

書式はシンプルで、import、スペースに続いてモジュール名を指定します。実は、import文の書き方にはいくつかのバリエーションがあります。ですが、このコースではみなさんが混乱しないように、モジュールを指定するインポートに限定して使っていきます。

```
import datetime  # datetimeモジュールを使用可能にする
```

具体的なプログラム例で紹介すると、ご覧のとおり、import・スペース・datetimeなどと書きます。

これでdatetimeモジュールを使う準備ができました。お待たせいたしました。次のスライドではいよいよ本日の日付を取得します。

## 今日の日付を取得する

では、今日の日付を取得するtoday関数を紹介します。

```
datetime.date.today()
```

まずは書式です。

書式は「datetime・ピリオド・date・ピリオド・today・丸カッコ・丸カッコ閉じ」です。

階層構造を含めて言うと、datetimeモジュールのdateクラスのtoday関数ということになりますね。today関数は丸カッコの中に何も指定しません。ですので、丸カッコと丸カッコ閉じはくっつけて書きます。

では、today関数を使った簡単なプログラム例を紹介します。

```
import␣datetime

today␣=␣datetime.date.today()
print(today)
```

４行のプログラムです。

１行目には、import文を記載します。「import・スペース・datetime」です。これで標準ライブラリのdatetimeモジュールが使用可能となりました。インポートの行の後は１行開けてプログラムを書き始めるのが、Pythonの慣習です。

３行目でいよいよtoday関数を使っています。「today・スペース・イコール・スペース・datetime・ピリオド・date・ピリオド・today・丸カッコ・丸カッコ閉じ」ですね。today関数から今日の日付が取得できるので、イコールでtoday変数に代入しています。

４行目はprint関数でtoday変数を参照していますね。つまりtoday変数に保存された今日の日付をディスプレイに表示するということです。実行結果で2021年4月6日が表示されていますね。これはあくまでも実行例です。実行した日によって実行結果は変わりますので、一例としてご覧ください。

ところで、today変数はどんな型だと思いますか？文字列でしょうか？数値の整数型でしょうか？答えは「date型」。today関数は日付を保存できる「date型」を返すんです。date型のtoday変数をprint関数に渡すことで、見やすい形で表示してくれんです。

以上「今日の日付を取得する方法を学ぼう」でした。